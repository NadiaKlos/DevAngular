<!-- packet.component.html -->
<div>
  <p>Paquets</p>
  <h2>CrÃ©er une carte</h2>
  <form [formGroup]="packetForm">
    <label for="matiere">MatiÃ¨re:</label>
    <input type="text" id="matiere" formControlName="matiere" />

    <label for="titre">Titre:</label>
    <input type="text" id="titre" formControlName="titre" />

    <label for="question">Question:</label>
    <input type="text" id="question" formControlName="question" />

    <label for="reponse">RÃ©ponse:</label>
    <input type="text" id="reponse" formControlName="reponse" />

    <!-- Ajoutez le bouton "Valider" -->
    <button type="button" (click)="submitAnswer()">Valider</button>
  </form>

  <h2>Mes cartes</h2>
  <div class="table-container">
    <table>
      <thead>
      <tr>
        <th>Titre</th>
        <th>MatiÃ¨re</th>
        <th>Question</th>
        <th>Action</th> <!-- Nouvelle colonne pour le bouton "RÃ©ponse" -->
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let card of existingCards">
        <td>{{ card.titre }}</td>
        <td>{{ card.matiere }}</td>
        <td>{{ card.question }}</td>
        <td><button (click)="showAnswer(card.reponse)">RÃ©ponse</button></td>
        <td><button class="delete-button" (click)="deleteCard(card)">Supprimer</button></td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Afficher la rÃ©ponse uniquement si showAnswerFlag est true -->
  <div *ngIf="showAnswerFlag">
    <p>RÃ©ponse: {{ currentAnswer }}</p>
  </div>
</div>

<div>

  <!-- packet.component.html -->
  <div class="text-center" *ngIf="questions.length > 0">
    <h1>M'entraÃ®ner ğŸ“š</h1>
    <p class="question-text">{{ questions[currentQuestionIndex].question }}</p>

    <!-- Ajoutez une balise pour afficher la rÃ©ponse -->
    <div *ngIf="showAnswerFlag">
      <h4 class="answer-container">RÃ©ponse: {{ questions[currentQuestionIndex].reponse }}</h4>
    </div>

    <!-- Ajoutez le formulaire pour la rÃ©ponse -->
    <form [formGroup]="answerForm">
      <label for="userAnswer">Votre rÃ©ponse:</label>
      <input type="text" id="userAnswer" formControlName="userAnswer" />

      <!-- Ajoutez les boutons de difficultÃ© ici -->

      <div class="difficulty-buttons">
        <button (click)="setDifficulty('easy')" [ngClass]="{'selected': difficulty === 'easy', 'easy': true}">Facile ğŸ˜</button>
        <button (click)="setDifficulty('medium')" [ngClass]="{'selected': difficulty === 'medium', 'medium': true}">Moyen ğŸ˜</button>
        <button (click)="setDifficulty('hard')" [ngClass]="{'selected': difficulty === 'hard', 'hard': true}">Difficile ğŸ˜¨</button>
      </div>

      <!-- Bouton pour soumettre la rÃ©ponse -->
      <button type="button" class="submit-button" (click)="submitAnswer()">Soumettre la rÃ©ponse</button>
      <!-- Afficher la correction -->
      <!-- Ajoutez la classe "answer-container" Ã  la balise <h4> -->
      <h4 class="answer-container">RÃ©ponse: {{ currentAnswer }}</h4>

      <!-- Ajoutez un Ã©lÃ©ment pour afficher le message de rÃ©ponse -->
      <div *ngIf="userAnswerCorrect !== null" class="answer-feedback" [ngClass]="{'correct': userAnswerCorrect, 'incorrect': !userAnswerCorrect}">
        {{ userAnswerCorrect ? 'Bonne rÃ©ponse' : 'Mauvaise rÃ©ponse' }}
      </div>
    </form>

    <!-- Afficher le rÃ©sultat de la rÃ©ponse -->
    <div *ngIf="userAnswerCorrect !== null">
      <p>RÃ©sultat: {{ userAnswerCorrect ? 'Correct' : 'Incorrect' }}</p>
    </div>

    <!-- Afficher la correction -->
    <div *ngIf="correctionText">
      <p>{{ correctionText }}</p>
    </div>

    <!-- Bouton pour passer Ã  la question suivante -->
    <button type="button" class="next-button" (click)="chooseRandomQuestion()">Question suivante</button>
  </div>


</div>


